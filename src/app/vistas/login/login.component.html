<form [formGroup]="loginForm" (ngSubmit)="onLogin()">
    <div>
        <label for="usernameOrEmail">Nombre de usuario o Email</label>
        <input id="usernameOrEmail" type="text" formControlName="usernameOrEmail" required />
        <div *ngIf="loginForm.get('usernameOrEmail')?.hasError('required') && loginForm.get('usernameOrEmail')?.touched"
            class="error-message">
            El nombre de usuario o email es obligatorio.
        </div>
    </div>

    <div>
        
            <label for="password">Contraseña</label>

            <div class="password-container">
            <input id="password" type="password" formControlName="password" required />
            <div class="icono">
                <i class="fa" [ngClass]="{'fa-eye': !passwordVisible, 'fa-eye-slash': passwordVisible}" (click)="togglePasswordVisibility()"></i>
            </div>
            </div>

        <div *ngIf="loginForm.get('password')?.hasError('required') && loginForm.get('password')?.touched"
            class="error-message">
            La contraseña es obligatoria.
        </div>
    </div>
    <!-- Mostrar el mensaje de error general si el formulario está vacío -->
    <div *ngIf="errorMessage" class="error-message">
        <p>{{ errorMessage }}</p>
    </div>

    <button type="submit">Iniciar Sesión</button>
    <p>O si no tienes cuenta</p>
    <button type="submit" routerLink="/registro">Registrarme</button>
</form>